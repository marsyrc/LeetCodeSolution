#### [358. K è·ç¦»é—´éš”é‡æ’å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/rearrange-string-k-distance-apart/)

ç»™ä½ ä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸² **s** å’Œä¸€ä¸ªæ•´æ•° **k**ï¼Œä½ è¦å°†è¿™ä¸ªå­—ç¬¦ä¸²ä¸­çš„å­—æ¯è¿›è¡Œé‡æ–°æ’åˆ—ï¼Œä½¿å¾—é‡æ’åçš„å­—ç¬¦ä¸²ä¸­ç›¸åŒå­—æ¯çš„ä½ç½®é—´éš”è·ç¦»è‡³å°‘ä¸º **k**ã€‚

æ‰€æœ‰è¾“å…¥çš„å­—ç¬¦ä¸²éƒ½ç”±å°å†™å­—æ¯ç»„æˆï¼Œå¦‚æœæ‰¾ä¸åˆ°è·ç¦»è‡³å°‘ä¸º **k** çš„é‡æ’ç»“æœï¼Œè¯·è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸² `""`ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: s = "aabbcc", k = 3
è¾“å‡º: "abcabc" 
è§£é‡Š: ç›¸åŒçš„å­—æ¯åœ¨æ–°çš„å­—ç¬¦ä¸²ä¸­é—´éš”è‡³å°‘ 3 ä¸ªå•ä½è·ç¦»ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "aaabc", k = 3
è¾“å‡º: "" 
è§£é‡Š: æ²¡æœ‰åŠæ³•æ‰¾åˆ°å¯èƒ½çš„é‡æ’ç»“æœã€‚
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: s = "aaadbbcc", k = 2
è¾“å‡º: "abacabcd"
è§£é‡Š: ç›¸åŒçš„å­—æ¯åœ¨æ–°çš„å­—ç¬¦ä¸²ä¸­é—´éš”è‡³å°‘ 2 ä¸ªå•ä½è·ç¦»ã€‚
```

ä¸Java "Top" k - 7ä¸åŒçš„æ˜¯ï¼Œä¹‹å‰æ˜¯åªè¦ç›¸åŒçš„å­—æ¯ä¸æŒ¨ç€å°±ğŸ‰‘ï¸ï¼Œè¿™é‡Œæ˜¯å®šä¹‰äº†ä¸€ä¸ªè·ç¦»ï¼Œé‚£æˆ‘ä»¬å°±å¤šåŠ ä¸€ä¸ªåˆ¤æ–­è·ç¦»çš„é‡å°±å¥½äº†å‘€ï¼è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†ä¸€ä¸ªqueueæ¥å­˜å‚¨æœªåˆ°è¾¾æŒ‡å®šè·ç¦»å‰çš„å­—æ¯ã€‚

æ€è·¯ï¼š

æå–å‡ºå½“å‰å †é¡¶çš„å¥å€¼å¯¹ï¼ŒåŠ å…¥åˆ°ç»“æœï¼Œè‡ªå·±çš„å€¼-1ï¼Œç„¶åæ”¾å…¥åˆ°queueä¸­ï¼Œå› ä¸ºkè·ç¦»åè¿˜è¦ç”¨ã€‚

å¦‚æœqueueçš„å¤§å°åˆ°è¾¾äº†kï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å·²ç»è¶Šè¿‡äº†kä¸ªå•ä½ï¼Œåœ¨ç»“æœä¸­åº”è¯¥è¦å‡ºç°ç›¸åŒçš„å­—æ¯äº†ï¼Œ

æ‰€ä»¥æˆ‘ä»¬å°±å–å‡ºqueueå †é¡¶åŠ å…¥åˆ°maxheapä¸­ï¼ˆå‰ææ˜¯å–å‡ºçš„å¥å€¼å¯¹æ˜¯æœ‰å€¼çš„å“ˆï¼Œè¦æ˜¯0é‚£è¿˜åŠ å®ƒå¹²å˜›ã€‚ã€‚ã€‚è€Œä¸”queueå­˜çš„æ—¶å€™å°±æ˜¯æŒ‰ç…§é¡ºåºçš„ï¼‰ã€‚

é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œæœ€ååˆ¤æ–­ä¸€ä¸‹å¾—åˆ°çš„ç»“æœçš„é•¿åº¦å’Œä¹‹å‰çš„så°±å¯ä»¥äº†ï¼

### é¢˜è§£

```go
type maxHeap []int

var cnt [26]int

func (h maxHeap) Len() int            { return len(h) }
func (h maxHeap) Less(i, j int) bool  { return cnt[h[i]] > cnt[h[j]] } //é‡æ–°å®ç°
func (h maxHeap) Swap(i, j int)       { h[i], h[j] = h[j], h[i] }
func (h *maxHeap) Push(x interface{}) { *h = append(*h, x.(int)) }
func (h *maxHeap) Pop() interface{} {
	res := (*h)[len(*h)-1]
	*h = (*h)[:len(*h)-1]
	return res
}

func max(a, b int) int {
	if a > b {
		return a
	}
	return b
}

func rearrangeString(s string, k int) string {
	if k == 0 {
		return s
	}
	n := len(s)
	ss := []rune(s)
	cnt = [26]int{}
	maxCnt := 0
	for _, v := range ss {
		cnt[int(v-'a')]++
		maxCnt = max(maxCnt, cnt[int(v-'a')])
	}

	if maxCnt > n+1/k {
		return ""
	}

	h := maxHeap{}
	for i := range cnt {
		if cnt[i] > 0 {
			heap.Push(&h, i)
		}
	}
	q := []int{}
	ans := make([]byte, 0, n)
	for len(h) > 0 {
		c := heap.Pop(&h).(int)
		cnt[c]--
		ans = append(ans, byte('a'+c))
		q = append(q, c)
		if len(q) == k {
			d := q[0]
			q = q[1:]
			if cnt[d] > 0 {
				heap.Push(&h, d)
			}
		}
	}
	if len(ans) != len(s) {
		return ""
	}
	return string(ans)
}
```

